<script>
    // these two functions needed just once per page
    // Update image in modal
    function updateModal(pre, e) {
        document.getElementById(`${pre}-body`).innerHTML =
            "<img src=" +
            e.target.src +
            " class='d-block w-100' alt='...'>";
        //document.getElementById(`mm${n}-title`).innerHTML = "";
    }
    function updateModalF(pre, e) {
        // bel.jpg is thumbnail, fbel.jpg is full size
        afile = e.target.src;
        i = afile.lastIndexOf("/");
        f2 = afile.slice(0, i + 1) + "f" + afile.slice(i + 1);
        console.log(`updateModelF ${pre} ${e} => ${f2}`);
        document.getElementById(`${pre}-body`).innerHTML =
            "<img src=" + f2 + " class='d-block w-100' alt='...'>";
        //document.getElementById(`mm${n}-title`).innerHTML = "";
    }
</script>

<div>
    <div class="modal modal-xl fade" id="mm2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="mm2-title">
                        Manuscript
                    </h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="mm2-body">...</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Returns a Bootstrap modal instance
        let mm2 = bootstrap.Modal.getOrCreateInstance(document.getElementById("mm2"));
    </script>
    <div style="
        float: right;
        margin: 10px;
        margin-right: 20px;
        background-color: rgb(61, 111, 88);
        padding: 20px;
        border-radius: 25px;
        min-width:200px;
        width:400px">
        <div id="mm2c" class="carousel slide">
            <div class=" carousel-indicators">
                <button type="button" data-bs-target="#mm2c" data-bs-slide-to="0" class="active" aria-current="true"
                    aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#mm2c" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#mm2c" data-bs-slide-to="2" aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#mm2c" data-bs-slide-to="3" aria-label="Slide 4"></button>
            </div>
            <div class="carousel-inner" style="height: 200px">
                <div class="carousel-item active">
                    <img src="../img/personnel/Dan_01.jpg" class="d-inline-block h-50" alt="..."
                        onClick="updateModalF('mm2', event); mm2.show();" />
                </div>
                <div class="carousel-item">
                    <img src="../img/personnel/Dan_02.jpg" class="d-inline-block h-50" alt="..."
                        onClick="updateModalF('mm2', event); mm2.show();" />
                </div>
                <div class="carousel-item">
                    <img src="../img/personnel/Dan_03.jpg" class="d-inline-block h-50" alt="..."
                        onClick="updateModalF('mm2', event); mm2.show();" />
                </div>
                <div class="carousel-item">
                    <img src="../img/personnel/Dan_04.jpg" class="d-inline-block h-50" alt="..."
                        onClick="updateModalF('mm2', event); mm2.show();" />
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#mm2c" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#mm2c" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <h3 class="overlay">Carousel X</h3>

        <p class="overlay">Carousel X words</p>
    </div>
</div>